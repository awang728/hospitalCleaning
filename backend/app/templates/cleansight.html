<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>CleanSight â€” Surface Contamination Analytics</title>
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Instrument+Sans:wght@400;500;600;700&family=Instrument+Serif:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body,
      #root {
        min-height: 100%;
        background: #f8fafc;
      }
      ::-webkit-scrollbar {
        width: 4px;
        height: 4px;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes blink {
        50% {
          opacity: 0;
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.4;
        }
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
      @keyframes shimmer {
        0% {
          opacity: 0.5;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.5;
        }
      }
      .animated {
        animation: fadeIn 0.35s ease both;
      }
      .tab {
        background: none;
        border: none;
        cursor: pointer;
        padding: 9px 18px;
        font-size: 12.5px;
        font-weight: 600;
        border-bottom: 2px solid transparent;
        transition: all 0.15s;
        color: #94a3b8;
        font-family: "Instrument Sans", sans-serif;
        letter-spacing: 0.01em;
      }
      .tab.on {
        color: #0f172a;
        border-bottom-color: #0f172a;
      }
      .tab:hover {
        color: #334155;
      }
      .card {
        background: #fff;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
        padding: 20px;
      }
      .dz {
        border: 2px dashed #e2e8f0;
        border-radius: 10px;
        padding: 26px 14px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        background: #fafafa;
      }
      .dz:hover {
        border-color: #94a3b8;
        background: #f1f5f9;
      }
      .label {
        font-family: "DM Mono", monospace;
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.1em;
        color: #94a3b8;
        text-transform: uppercase;
      }
      .session-btn {
        padding: 7px 10px;
        border-radius: 7px;
        font-size: 11px;
        font-weight: 600;
        text-align: left;
        border: 1px solid #e2e8f0;
        cursor: pointer;
        font-family: "DM Mono", monospace;
        transition: all 0.15s;
        width: 100%;
        background: #f8fafc;
        color: #334155;
      }
      .session-btn:hover {
        border-color: #94a3b8;
      }
      .vultr-btn {
        background: #007bff;
        color: #fff;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-size: 13px;
        font-weight: 700;
        cursor: pointer;
        font-family: "Instrument Sans", sans-serif;
        transition: all 0.15s;
        letter-spacing: 0.01em;
      }
      .vultr-btn:hover {
        background: #0056cc;
        transform: translateY(-1px);
      }
      .vultr-btn:active {
        transform: translateY(0);
      }
      .nav-btn {
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        padding: 5px 13px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        font-family: "Instrument Sans", sans-serif;
        transition: all 0.15s;
      }
      .region-btn {
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 9px 10px;
        cursor: pointer;
        font-family: "DM Mono", monospace;
        font-size: 11px;
        transition: all 0.15s;
        text-align: center;
        background: #f8fafc;
      }
      .region-btn:hover {
        border-color: #007bff;
        background: #eff6ff;
      }
      .region-btn.sel {
        border-color: #007bff;
        background: #eff6ff;
        color: #1d4ed8;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      var useState = React.useState,
        useRef = React.useRef,
        useEffect = React.useEffect,
        useCallback = React.useCallback;

      var BACKEND_URL = "http://127.0.0.1:8080";
      var FASTAPI_URL = "http://127.0.0.1:8000";

      // â”€â”€â”€ TEST DATA (fallback if no real sessions yet) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      var TEST_SESSIONS = [
        {
          session_id: "TEST-001",
          surface_id: "TRAY_3A",
          surface_type: "tray",
          room_id: "ICU_12",
          cleaner_id: "anon_004",
          start_time: "2026-02-20T20:10:12Z",
          end_time: "2026-02-20T20:12:05Z",
          grid_h: 3,
          grid_w: 4,
          coverage_count_grid: [
            [0, 1, 0, 0],
            [1, 2, 0, 0],
            [0, 0, 0, 4],
          ],
          high_touch_mask: [
            [0, 1, 1, 0],
            [0, 1, 1, 0],
            [0, 0, 0, 0],
          ],
          wipe_events: [],
          camera_id: "CAM_02",
          _label: "ICU-12 Â· Tray 3A",
        },
        {
          session_id: "TEST-002",
          surface_id: "BEDRAIL_B",
          surface_type: "bedrail",
          room_id: "OR_5",
          cleaner_id: "anon_007",
          start_time: "2026-02-20T14:05:00Z",
          end_time: "2026-02-20T14:09:45Z",
          grid_h: 2,
          grid_w: 6,
          coverage_count_grid: [
            [0, 0, 1, 2, 0, 0],
            [1, 0, 0, 0, 3, 1],
          ],
          high_touch_mask: [
            [1, 1, 0, 0, 1, 1],
            [1, 1, 0, 0, 0, 0],
          ],
          wipe_events: [],
          camera_id: "CAM_01",
          _label: "OR-5 Â· Bedrail B",
        },
        {
          session_id: "TEST-003",
          surface_id: "IV_POLE_C",
          surface_type: "equipment",
          room_id: "WARD_3",
          cleaner_id: "anon_002",
          start_time: "2026-02-20T09:30:00Z",
          end_time: "2026-02-20T09:34:10Z",
          grid_h: 4,
          grid_w: 3,
          coverage_count_grid: [
            [0, 0, 0],
            [0, 1, 0],
            [2, 1, 3],
            [0, 0, 1],
          ],
          high_touch_mask: [
            [1, 0, 1],
            [1, 0, 1],
            [0, 0, 0],
            [0, 0, 0],
          ],
          wipe_events: [],
          camera_id: "CAM_03",
          _label: "WARD-3 Â· IV Pole C",
        },
        {
          session_id: "TEST-004",
          surface_id: "COUNTER_7",
          surface_type: "countertop",
          room_id: "PREP_ROOM_B",
          cleaner_id: "anon_011",
          start_time: "2026-02-21T07:45:00Z",
          end_time: "2026-02-21T07:51:20Z",
          grid_h: 3,
          grid_w: 5,
          coverage_count_grid: [
            [3, 2, 1, 3, 2],
            [1, 0, 0, 1, 2],
            [2, 2, 1, 0, 1],
          ],
          high_touch_mask: [
            [0, 0, 1, 0, 0],
            [0, 1, 1, 0, 0],
            [0, 0, 1, 0, 0],
          ],
          wipe_events: [],
          camera_id: "CAM_05",
          _label: "PREP-B Â· Counter 7",
        },
        {
          session_id: "TEST-005",
          surface_id: "DOOR_HANDLE_ER",
          surface_type: "handle",
          room_id: "ER_ENTRANCE",
          cleaner_id: "anon_019",
          start_time: "2026-02-21T11:00:00Z",
          end_time: "2026-02-21T11:03:45Z",
          grid_h: 2,
          grid_w: 2,
          coverage_count_grid: [
            [0, 0],
            [1, 0],
          ],
          high_touch_mask: [
            [1, 1],
            [1, 1],
          ],
          wipe_events: [],
          camera_id: "CAM_07",
          _label: "ER Â· Door Handle",
        },
        {
          session_id: "TEST-006",
          surface_id: "KEYBOARD_NS",
          surface_type: "equipment",
          room_id: "NURSES_STN_4",
          cleaner_id: "anon_033",
          start_time: "2026-02-21T15:20:00Z",
          end_time: "2026-02-21T15:25:10Z",
          grid_h: 3,
          grid_w: 6,
          coverage_count_grid: [
            [2, 3, 2, 2, 3, 2],
            [1, 1, 0, 0, 1, 1],
            [3, 2, 2, 3, 2, 3],
          ],
          high_touch_mask: [
            [1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 0],
            [1, 1, 0, 0, 1, 1],
          ],
          wipe_events: [],
          camera_id: "CAM_04",
          _label: "Nurses Stn 4 Â· Keyboard",
        },
      ];

      var RISK_ORDER = ["critical", "high", "medium", "low", "clear"];
      var RISK = {
        critical: {
          label: "Critical",
          bg: "#fda4af",
          text: "#881337",
          border: "#f43f5e",
          dot: "#f43f5e",
          bar: "#f43f5e",
        },
        high: {
          label: "High",
          bg: "#fdba74",
          text: "#7c2d12",
          border: "#f97316",
          dot: "#f97316",
          bar: "#f97316",
        },
        medium: {
          label: "Medium",
          bg: "#fde68a",
          text: "#713f12",
          border: "#f59e0b",
          dot: "#f59e0b",
          bar: "#f59e0b",
        },
        low: {
          label: "Low",
          bg: "#bbf7d0",
          text: "#14532d",
          border: "#22c55e",
          dot: "#22c55e",
          bar: "#22c55e",
        },
        clear: {
          label: "Clear",
          bg: "#e0f2fe",
          text: "#0c4a6e",
          border: "#38bdf8",
          dot: "#38bdf8",
          bar: "#38bdf8",
        },
      };

      var VECTOR_MATCHES = [
        {
          id: "SES-2025-0841",
          room: "ICU_09",
          surface: "bedrail",
          sim: 0.96,
          risk: "critical",
          note: "High-touch cluster, zero coverage corners",
          protocol: "UV-C + double wipe",
        },
        {
          id: "SES-2024-1102",
          room: "OR_3",
          surface: "tray",
          sim: 0.88,
          risk: "high",
          note: "Central gap, partial high-touch miss",
          protocol: "Microfiber spray",
        },
        {
          id: "SES-2025-0312",
          room: "WARD_1",
          surface: "equipment",
          sim: 0.79,
          risk: "medium",
          note: "Partial coverage, low-touch deficit",
          protocol: "Standard wipe-down",
        },
      ];

      function riskLevel(cov, ht) {
        if (ht && cov === 0) return "critical";
        if (ht && cov === 1) return "high";
        if (!ht && cov === 0) return "medium";
        if (ht && cov >= 2) return "low";
        return "clear";
      }

      function analyzeSession(s) {
        var cells = [];
        for (var r = 0; r < s.grid_h; r++)
          for (var c = 0; c < s.grid_w; c++) {
            var cov = s.coverage_count_grid[r][c],
              ht = s.high_touch_mask[r][c] === 1;
            cells.push({
              r: r,
              c: c,
              coverage: cov,
              highTouch: ht,
              risk: riskLevel(cov, ht),
            });
          }
        var totalCells = s.grid_h * s.grid_w;
        var cleaned = cells.filter(function (c) {
          return c.coverage > 0;
        }).length;
        var covPct = Math.round((cleaned / totalCells) * 100);
        var htTotal = cells.filter(function (c) {
          return c.highTouch;
        }).length;
        var htUncleaned = cells.filter(function (c) {
          return c.highTouch && c.coverage === 0;
        }).length;
        var dur = Math.round(
          (new Date(s.end_time) - new Date(s.start_time)) / 1000,
        );
        var durStr = Math.floor(dur / 60) + "m " + (dur % 60) + "s";
        var counts = {};
        RISK_ORDER.forEach(function (k) {
          counts[k] = 0;
        });
        cells.forEach(function (c) {
          counts[c.risk]++;
        });
        var focus = cells
          .filter(function (c) {
            return c.risk === "critical" || c.risk === "high";
          })
          .sort(function (a, b) {
            return RISK_ORDER.indexOf(a.risk) - RISK_ORDER.indexOf(b.risk);
          });
        var coverageRows = s.coverage_count_grid.map(function (row, ri) {
          return {
            row: "Row " + ri,
            avg: parseFloat(
              (
                row.reduce(function (a, b) {
                  return a + b;
                }, 0) / row.length
              ).toFixed(2),
            ),
          };
        });
        return {
          cells: cells,
          totalCells: totalCells,
          cleaned: cleaned,
          covPct: covPct,
          htTotal: htTotal,
          htUncleaned: htUncleaned,
          durStr: durStr,
          counts: counts,
          focus: focus,
          coverageRows: coverageRows,
        };
      }

      function buildSphinxSteps(s, a) {
        return [
          "ðŸ” Ingesting session " +
            s.session_id +
            " Â· " +
            s.surface_type +
            " surface in " +
            s.room_id +
            "â€¦",
          "ðŸ“ Grid: " +
            s.grid_h +
            "Ã—" +
            s.grid_w +
            " (" +
            a.totalCells +
            " cells) Â· " +
            a.htTotal +
            " high-touch zones flagged.",
          "ðŸ“Š Coverage: " +
            a.covPct +
            "% of surface wiped Â· " +
            a.cleaned +
            "/" +
            a.totalCells +
            " cells with at least one pass.",
          a.counts.critical > 0
            ? "âš ï¸  " +
              a.counts.critical +
              " CRITICAL cell" +
              (a.counts.critical > 1 ? "s" : "") +
              " â€” high-touch & zero coverage. Risk: ELEVATED."
            : "âœ… No critical high-touch gaps detected. Proceeding to secondary analysisâ€¦",
          a.counts.high > 0
            ? "ðŸŸ  " +
              a.counts.high +
              " HIGH-risk cell" +
              (a.counts.high > 1 ? "s" : "") +
              " â€” wiped once only, below protocol threshold."
            : "âœ… All high-touch zones meet minimum wipe threshold.",
          "ðŸ§  Optimal sequence: CRITICAL â†’ HIGH â†’ MEDIUM. Est. remediation: " +
            (a.focus.length * 3 + 4) +
            " min.",
          "âš¡ Offloading vector embedding to Vultr Cloud CPU instance (us-east-1)â€¦",
          "ðŸ”— Similarity lookup via Actian VectorAI DB Â· top match confidence: 94.6%.",
          "âœ… Protocol: " +
            (a.counts.critical > 0
              ? "UV-C sweep + double wipe"
              : "Standard microfiber protocol") +
            ". Deploy re-scan job â†’ Vultr Cloud.",
        ];
      }

      // â”€â”€â”€ VULTR CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      var VULTR_REGIONS = [
        {
          id: "ewr",
          name: "New Jersey",
          flag: "ðŸ‡ºðŸ‡¸",
          latency: 4,
          status: "online",
        },
        {
          id: "lax",
          name: "Los Angeles",
          flag: "ðŸ‡ºðŸ‡¸",
          latency: 12,
          status: "online",
        },
        {
          id: "fra",
          name: "Frankfurt",
          flag: "ðŸ‡©ðŸ‡ª",
          latency: 88,
          status: "online",
        },
        {
          id: "sin",
          name: "Singapore",
          flag: "ðŸ‡¸ðŸ‡¬",
          latency: 201,
          status: "online",
        },
        {
          id: "syd",
          name: "Sydney",
          flag: "ðŸ‡¦ðŸ‡º",
          latency: 245,
          status: "degraded",
        },
      ];
      var VULTR_PLANS = [
        {
          id: "vc2-2c-4gb",
          name: "Cloud CPU Â· 2vCPU",
          specs: "2 vCPU Â· 4GB RAM Â· 80GB SSD",
          price: "$0.030/hr",
          badge: "CPU",
          color: "#0369a1",
        },
        {
          id: "hf-32",
          name: "High Freq Â· HF-32",
          specs: "32 vCPU Â· 64GB RAM Â· NVMe",
          price: "$0.48/hr",
          badge: "CPU",
          color: "#0369a1",
        },
        {
          id: "vc2-4",
          name: "Cloud Compute Â· 4C",
          specs: "4 vCPU Â· 8GB RAM Â· SSD",
          price: "$0.06/hr",
          badge: "STD",
          color: "#475569",
        },
      ];

      // â”€â”€â”€ STATIC CHART DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      var ZONE_BAR_DATA = [
        { name: "A1", score: 44 },
        { name: "B1", score: 62 },
        { name: "B2", score: 53 },
        { name: "C1", score: 51 },
        { name: "C2", score: 49 },
      ];
      var RADAR_DATA = [
        { label: "A1", score: 44 },
        { label: "B1", score: 62 },
        { label: "B2", score: 53 },
        { label: "C1", score: 51 },
        { label: "C2", score: 49 },
      ];
      var TREND_DATA = [
        { t: "08:00", v: 12 },
        { t: "09:00", v: 18 },
        { t: "10:00", v: 34 },
        { t: "11:00", v: 61 },
        { t: "12:00", v: 55 },
        { t: "13:00", v: 72 },
        { t: "14:00", v: 68 },
        { t: "15:00", v: 84 },
        { t: "16:00", v: 79 },
      ];

      // â”€â”€â”€ SVG CHARTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function SvgBar(props) {
        var data = props.data,
          vk = props.valueKey,
          ck = props.colorKey,
          lk = props.labelKey,
          H = props.height || 260,
          mv = props.maxVal;
        var W = 460,
          pL = 40,
          pB = 40,
          pT = 20,
          pR = 14,
          cW = W - pL - pR,
          cH = H - pT - pB;
        var max =
          mv ||
          Math.ceil(
            Math.max.apply(
              null,
              data.map(function (d) {
                return d[vk];
              }),
            ) / 25,
          ) * 25;
        if (!max) max = 100;
        var ticks = [0, 25, 50, 75, 100].filter(function (t) {
          return t <= max;
        });
        var bW = Math.min(48, (cW / data.length) * 0.55);
        var gap = (cW - bW * data.length) / (data.length + 1);
        return React.createElement(
          "svg",
          {
            viewBox: "0 0 " + W + " " + H,
            style: { width: "100%", height: "auto" },
          },
          ticks.map(function (t) {
            var y = pT + cH * (1 - t / max);
            return React.createElement(
              "g",
              { key: t },
              React.createElement("line", {
                x1: pL,
                y1: y,
                x2: W - pR,
                y2: y,
                stroke: "#f1f5f9",
                strokeWidth: "1",
              }),
              React.createElement(
                "text",
                {
                  x: pL - 6,
                  y: y + 4,
                  textAnchor: "end",
                  fontSize: "11",
                  fill: "#94a3b8",
                  fontFamily: "DM Mono,monospace",
                },
                t,
              ),
            );
          }),
          data.map(function (d, i) {
            var bH = Math.max(2, (d[vk] / max) * cH);
            var x = pL + gap * (i + 1) + bW * i,
              y = pT + cH - bH;
            var color = ck ? d[ck] : "#0f172a";
            return React.createElement(
              "g",
              { key: i },
              React.createElement("rect", {
                x: x,
                y: y,
                width: bW,
                height: bH,
                rx: "5",
                fill: color,
              }),
              React.createElement(
                "text",
                {
                  x: x + bW / 2,
                  y: y - 7,
                  textAnchor: "middle",
                  fontSize: "11",
                  fill: "#64748b",
                  fontFamily: "DM Mono,monospace",
                  fontWeight: "500",
                },
                d[vk],
              ),
              React.createElement(
                "text",
                {
                  x: x + bW / 2,
                  y: H - pB + 18,
                  textAnchor: "middle",
                  fontSize: "11",
                  fill: "#64748b",
                  fontFamily: "DM Mono,monospace",
                },
                d[lk],
              ),
            );
          }),
          React.createElement("line", {
            x1: pL,
            y1: pT + cH,
            x2: W - pR,
            y2: pT + cH,
            stroke: "#e2e8f0",
            strokeWidth: "1",
          }),
        );
      }

      function SvgRadar(props) {
        var data = props.data,
          size = props.size || 260;
        var cx = size / 2,
          cy = size / 2 + 10,
          r = size * 0.32;
        var n = data.length;
        var max = 100;
        var rings = [0.25, 0.5, 0.75, 1.0];
        function pt(i, frac) {
          var a = (i / n) * 2 * Math.PI - Math.PI / 2;
          return {
            x: cx + r * frac * Math.cos(a),
            y: cy + r * frac * Math.sin(a),
          };
        }
        var dataPath =
          data
            .map(function (d, i) {
              var p = pt(i, d.score / max);
              return (
                (i === 0 ? "M" : "L") + p.x.toFixed(2) + "," + p.y.toFixed(2)
              );
            })
            .join(" ") + "Z";
        var labelOffset = 18;
        return React.createElement(
          "svg",
          {
            viewBox: "0 0 " + size + " " + (size + 20),
            style: { width: "100%", height: "auto" },
          },
          rings.map(function (frac, ri) {
            var pts = data
              .map(function (d, i) {
                var p = pt(i, frac);
                return p.x.toFixed(2) + "," + p.y.toFixed(2);
              })
              .join(" ");
            return React.createElement("polygon", {
              key: ri,
              points: pts,
              fill: "none",
              stroke: "#e2e8f0",
              strokeWidth: "1",
            });
          }),
          data.map(function (d, i) {
            var p = pt(i, 1);
            return React.createElement("line", {
              key: i,
              x1: cx,
              y1: cy,
              x2: p.x,
              y2: p.y,
              stroke: "#e2e8f0",
              strokeWidth: "1",
            });
          }),
          React.createElement("polygon", {
            points: data
              .map(function (d, i) {
                var p = pt(i, d.score / max);
                return p.x.toFixed(2) + "," + p.y.toFixed(2);
              })
              .join(" "),
            fill: "rgba(15,23,42,0.12)",
            stroke: "#0f172a",
            strokeWidth: "2",
          }),
          data.map(function (d, i) {
            var a = (i / n) * 2 * Math.PI - Math.PI / 2;
            var lx = cx + (r + labelOffset) * Math.cos(a),
              ly = cy + (r + labelOffset) * Math.sin(a);
            return React.createElement(
              "text",
              {
                key: i,
                x: lx,
                y: ly + 4,
                textAnchor: "middle",
                fontSize: "12",
                fill: "#64748b",
                fontFamily: "DM Mono,monospace",
              },
              d.label,
            );
          }),
        );
      }

      function SvgLine(props) {
        var data = props.data,
          vk = props.valueKey,
          lk = props.labelKey,
          color = props.color || "#f43f5e",
          H = props.height || 280,
          legend = props.legend;
        var W = 460,
          pL = 40,
          pB = props.legend ? 60 : 40,
          pT = 20,
          pR = 14,
          cW = W - pL - pR,
          cH = H - pT - pB;
        var vals = data.map(function (d) {
          return d[vk];
        });
        var max = Math.ceil(Math.max.apply(null, vals) / 25) * 25 || 100;
        var ticks = [0, 25, 50, 75, 100].filter(function (t) {
          return t <= max;
        });
        var n = data.length;
        var pts = data.map(function (d, i) {
          return {
            x: pL + (n < 2 ? cW / 2 : (i / (n - 1)) * cW),
            y: pT + cH * (1 - d[vk] / max),
            v: d[vk],
            l: d[lk],
          };
        });
        var pd = pts
          .map(function (p, i) {
            return (
              (i === 0 ? "M" : "L") + p.x.toFixed(2) + "," + p.y.toFixed(2)
            );
          })
          .join(" ");
        var ad =
          pts.length > 1
            ? pd +
              " L" +
              pts[pts.length - 1].x +
              "," +
              (pT + cH) +
              " L" +
              pts[0].x +
              "," +
              (pT + cH) +
              " Z"
            : "";
        var showLabel = function (i) {
          return i === 0 || i === n - 1 || i % 2 === 1;
        };
        return React.createElement(
          "svg",
          {
            viewBox: "0 0 " + W + " " + H,
            style: { width: "100%", height: "auto" },
          },
          React.createElement(
            "defs",
            null,
            React.createElement(
              "linearGradient",
              { id: "trendGrad", x1: "0", y1: "0", x2: "0", y2: "1" },
              React.createElement("stop", {
                offset: "0%",
                stopColor: color,
                stopOpacity: "0.15",
              }),
              React.createElement("stop", {
                offset: "100%",
                stopColor: color,
                stopOpacity: "0.01",
              }),
            ),
          ),
          ticks.map(function (t) {
            var y = pT + cH * (1 - t / max);
            return React.createElement(
              "g",
              { key: t },
              React.createElement("line", {
                x1: pL,
                y1: y,
                x2: W - pR,
                y2: y,
                stroke: "#f1f5f9",
                strokeWidth: "1",
              }),
              React.createElement(
                "text",
                {
                  x: pL - 6,
                  y: y + 4,
                  textAnchor: "end",
                  fontSize: "11",
                  fill: "#94a3b8",
                  fontFamily: "DM Mono,monospace",
                },
                t,
              ),
            );
          }),
          ad && React.createElement("path", { d: ad, fill: "url(#trendGrad)" }),
          React.createElement("path", {
            d: pd,
            fill: "none",
            stroke: color,
            strokeWidth: "2.5",
            strokeLinejoin: "round",
            strokeLinecap: "round",
          }),
          pts.map(function (p, i) {
            return React.createElement(
              "g",
              { key: i },
              React.createElement("circle", {
                cx: p.x,
                cy: p.y,
                r: "4.5",
                fill: color,
                stroke: "#fff",
                strokeWidth: "1.5",
              }),
              showLabel(i) &&
                React.createElement(
                  "text",
                  {
                    x: p.x,
                    y: pT + cH + 20,
                    textAnchor: "middle",
                    fontSize: "10",
                    fill: "#94a3b8",
                    fontFamily: "DM Mono,monospace",
                  },
                  p.l,
                ),
            );
          }),
          React.createElement("line", {
            x1: pL,
            y1: pT + cH,
            x2: W - pR,
            y2: pT + cH,
            stroke: "#e2e8f0",
            strokeWidth: "1",
          }),
          legend &&
            React.createElement(
              "g",
              { transform: "translate(" + (W / 2 - 40) + "," + (H - 18) + ")" },
              React.createElement("circle", {
                cx: "0",
                cy: "-4",
                r: "5",
                fill: color,
              }),
              React.createElement("line", {
                x1: "-18",
                y1: "-4",
                x2: "18",
                y2: "-4",
                stroke: color,
                strokeWidth: "2.5",
              }),
              React.createElement(
                "text",
                {
                  x: "24",
                  y: "0",
                  fontSize: "12",
                  fill: color,
                  fontFamily: "Instrument Sans,sans-serif",
                  fontWeight: "600",
                },
                legend,
              ),
            ),
        );
      }

      function Gauge(props) {
        var val = props.val,
          max = props.max || 100,
          color = props.color || "#007bff",
          label = props.label,
          size = props.size || 100;
        var cx = size / 2,
          cy = size * 0.58,
          r = size * 0.38;
        var pct = Math.min(1, val / max);
        var startA = -Math.PI * 0.85,
          endA = Math.PI * 0.85,
          sweep = endA - startA;
        var trailEnd = startA + sweep;
        var valEnd = startA + sweep * pct;
        function arc(a1, a2, rc) {
          return (
            "M" +
            (cx + rc * Math.cos(a1)) +
            "," +
            (cy + rc * Math.sin(a1)) +
            " A" +
            rc +
            "," +
            rc +
            " 0 " +
            (a2 - a1 > Math.PI ? 1 : 0) +
            " 1 " +
            (cx + rc * Math.cos(a2)) +
            "," +
            (cy + rc * Math.sin(a2))
          );
        }
        return React.createElement(
          "svg",
          {
            viewBox: "0 0 " + size + " " + size,
            style: { width: size + "px", height: size + "px" },
          },
          React.createElement("path", {
            d: arc(startA, trailEnd, r),
            fill: "none",
            stroke: "#e2e8f0",
            strokeWidth: "7",
            strokeLinecap: "round",
          }),
          pct > 0 &&
            React.createElement("path", {
              d: arc(startA, valEnd, r),
              fill: "none",
              stroke: color,
              strokeWidth: "7",
              strokeLinecap: "round",
            }),
          React.createElement(
            "text",
            {
              x: cx,
              y: cy + 2,
              textAnchor: "middle",
              fontSize: size * 0.18,
              fontWeight: "800",
              fill: "#0f172a",
              fontFamily: "DM Mono,monospace",
            },
            val + (props.unit || "%"),
          ),
          React.createElement(
            "text",
            {
              x: cx,
              y: cy + size * 0.18,
              textAnchor: "middle",
              fontSize: size * 0.1,
              fill: "#94a3b8",
              fontFamily: "DM Mono,monospace",
            },
            label,
          ),
        );
      }

      // â”€â”€â”€ SMALL COMPONENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function Badge(props) {
        var level = props.level,
          size = props.size || "sm",
          r = RISK[level];
        return React.createElement(
          "span",
          {
            style: {
              background: r.bg,
              color: r.text,
              border: "1px solid " + r.border,
              borderRadius: 4,
              padding: size === "sm" ? "2px 7px" : "3px 11px",
              fontSize: size === "sm" ? 10 : 11,
              fontFamily: "'DM Mono',monospace",
              fontWeight: 700,
              letterSpacing: ".06em",
              textTransform: "uppercase",
              whiteSpace: "nowrap",
            },
          },
          r.label,
        );
      }

      function StatBox(props) {
        var color = props.color || "#0f172a";
        return React.createElement(
          "div",
          {
            style: {
              background: "#f8fafc",
              borderRadius: 9,
              padding: "11px 13px",
              border: "1px solid #f1f5f9",
            },
          },
          React.createElement(
            "div",
            {
              style: {
                fontSize: 10,
                color: "#94a3b8",
                fontFamily: "'DM Mono',monospace",
                fontWeight: 700,
                textTransform: "uppercase",
                letterSpacing: ".07em",
              },
            },
            props.label,
          ),
          React.createElement(
            "div",
            {
              style: {
                fontSize: 22,
                fontWeight: 800,
                color: color,
                fontFamily: "'DM Mono',monospace",
                marginTop: 4,
              },
            },
            props.value,
          ),
          props.sub &&
            React.createElement(
              "div",
              { style: { fontSize: 10, color: "#94a3b8", marginTop: 1 } },
              props.sub,
            ),
        );
      }

      function Heatmap(props) {
        var cells = props.cells,
          grid_w = props.grid_w,
          hoveredCell = props.hoveredCell,
          onHover = props.onHover;
        var cellSize = grid_w > 8 ? 44 : grid_w > 5 ? 54 : 68;
        return React.createElement(
          "div",
          null,
          React.createElement(
            "div",
            {
              style: {
                display: "grid",
                gridTemplateColumns:
                  "repeat(" + grid_w + "," + cellSize + "px)",
                gap: 5,
              },
            },
            cells.map(function (cell) {
              var r = RISK[cell.risk],
                isHov =
                  hoveredCell &&
                  hoveredCell.r === cell.r &&
                  hoveredCell.c === cell.c;
              return React.createElement(
                "div",
                {
                  key: cell.r + "-" + cell.c,
                  onMouseEnter: function () {
                    onHover(cell);
                  },
                  onMouseLeave: function () {
                    onHover(null);
                  },
                  style: {
                    width: cellSize,
                    height: cellSize,
                    borderRadius: 8,
                    background: r.bg,
                    border: "2px solid " + (isHov ? r.dot : r.border),
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    justifyContent: "center",
                    cursor: "default",
                    transition:
                      "transform .12s,border-color .12s,box-shadow .12s",
                    transform: isHov
                      ? "scale(1.14)"
                      : cell.risk === "critical"
                        ? "scale(1.06)"
                        : "scale(1)",
                    boxShadow: isHov ? "0 0 0 4px " + r.border + "55" : "none",
                    position: "relative",
                  },
                },
                cell.highTouch &&
                  React.createElement("div", {
                    style: {
                      position: "absolute",
                      top: 4,
                      right: 4,
                      width: 6,
                      height: 6,
                      borderRadius: "50%",
                      background: r.dot,
                    },
                  }),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 18,
                      fontWeight: 800,
                      fontFamily: "'DM Mono',monospace",
                      color: r.text,
                    },
                  },
                  cell.coverage,
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 9,
                      color: r.text,
                      opacity: 0.7,
                      fontFamily: "'DM Mono',monospace",
                    },
                  },
                  cell.r + "," + cell.c,
                ),
              );
            }),
          ),
          React.createElement(
            "div",
            {
              style: {
                marginTop: 12,
                display: "flex",
                flexWrap: "wrap",
                gap: 10,
                alignItems: "center",
              },
            },
            RISK_ORDER.map(function (k) {
              return React.createElement(
                "span",
                {
                  key: k,
                  style: {
                    display: "flex",
                    alignItems: "center",
                    gap: 5,
                    fontSize: 11,
                    color: "#64748b",
                  },
                },
                React.createElement("span", {
                  style: {
                    width: 10,
                    height: 10,
                    borderRadius: 2,
                    background: RISK[k].bg,
                    border: "1px solid " + RISK[k].border,
                    display: "inline-block",
                  },
                }),
                RISK[k].label,
              );
            }),
            React.createElement(
              "span",
              {
                style: {
                  fontSize: 11,
                  color: "#94a3b8",
                  display: "flex",
                  alignItems: "center",
                  gap: 4,
                },
              },
              React.createElement("span", {
                style: {
                  width: 7,
                  height: 7,
                  borderRadius: "50%",
                  background: "#334155",
                  display: "inline-block",
                },
              }),
              "High-touch Â· number = wipe count",
            ),
          ),
        );
      }

      function SphinxPanel(props) {
        var steps = props.steps,
          currentStep = props.currentStep,
          running = props.running;
        var ref = useRef(null);
        useEffect(
          function () {
            if (ref.current) ref.current.scrollTop = ref.current.scrollHeight;
          },
          [currentStep],
        );
        return React.createElement(
          "div",
          {
            ref: ref,
            style: {
              background: "#0f172a",
              borderRadius: 10,
              padding: "14px 16px",
              fontFamily: "'DM Mono',monospace",
              fontSize: 12,
              lineHeight: 1.9,
              minHeight: 148,
              maxHeight: 210,
              overflowY: "auto",
              color: "#94a3b8",
            },
          },
          React.createElement(
            "div",
            {
              style: {
                color: "#38bdf8",
                fontWeight: 700,
                fontSize: 10,
                letterSpacing: ".12em",
                marginBottom: 8,
              },
            },
            "â–¸ SPHINX AI Â· REASONING ENGINE  âš¡ Vultr CPU",
          ),
          currentStep < 0 &&
            React.createElement(
              "span",
              { style: { color: "#475569" } },
              "Awaiting session dataâ€¦",
            ),
          steps.slice(0, currentStep + 1).map(function (s, i) {
            return React.createElement(
              "div",
              {
                key: i,
                style: {
                  color: i === currentStep && running ? "#f0f9ff" : "#94a3b8",
                },
              },
              s,
            );
          }),
          running &&
            currentStep < steps.length &&
            React.createElement(
              "span",
              {
                style: {
                  color: "#38bdf8",
                  animation: "blink .8s step-start infinite",
                },
              },
              "â–ˆ",
            ),
          !running &&
            currentStep >= steps.length - 1 &&
            currentStep >= 0 &&
            React.createElement(
              "div",
              { style: { color: "#4ade80", fontWeight: 700, marginTop: 4 } },
              "âœ” Analysis complete Â· results persisted to Vultr object storage.",
            ),
        );
      }

      // â”€â”€â”€ VULTR INFRA VIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function VultrView(props) {
        var metrics = props.metrics,
          deployLog = props.deployLog,
          selectedRegion = props.selectedRegion,
          setSelectedRegion = props.setSelectedRegion,
          selectedPlan = props.selectedPlan,
          setSelectedPlan = props.setSelectedPlan,
          onDeploy = props.onDeploy,
          deploying = props.deploying,
          deployed = props.deployed;
        return React.createElement(
          "div",
          { style: { maxWidth: 1380, margin: "0 auto", padding: "26px 28px" } },
          React.createElement(
            "div",
            {
              style: {
                marginBottom: 22,
                display: "flex",
                alignItems: "flex-start",
                justifyContent: "space-between",
              },
            },
            React.createElement(
              "div",
              null,
              React.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    gap: 10,
                    marginBottom: 4,
                  },
                },
                React.createElement(
                  "div",
                  {
                    style: {
                      width: 28,
                      height: 28,
                      background: "#007bff",
                      borderRadius: 7,
                      display: "flex",
                      alignItems: "center",
                      justifyContent: "center",
                      fontSize: 14,
                    },
                  },
                  "âš¡",
                ),
                React.createElement(
                  "div",
                  { style: { fontSize: 20, fontWeight: 700 } },
                  "Vultr Infrastructure",
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      fontFamily: "'DM Mono',monospace",
                      background: "#eff6ff",
                      color: "#1d4ed8",
                      border: "1px solid #bfdbfe",
                      borderRadius: 4,
                      padding: "2px 8px",
                    },
                  },
                  "MLH Best Use of Vultr",
                ),
              ),
              React.createElement(
                "div",
                { style: { fontSize: 13, color: "#94a3b8" } },
                "One-click deployment Â· Scalable Cloud CPU Â· CleanSight runs entirely on Vultr",
              ),
            ),
            deployed &&
              React.createElement(
                "div",
                {
                  style: {
                    background: "#f0fdf4",
                    border: "1px solid #bbf7d0",
                    borderRadius: 10,
                    padding: "10px 16px",
                    textAlign: "right",
                  },
                },
                React.createElement(
                  "div",
                  {
                    style: {
                      fontSize: 11,
                      fontFamily: "'DM Mono',monospace",
                      color: "#166534",
                      fontWeight: 700,
                    },
                  },
                  "âœ“ DEPLOYED",
                ),
                React.createElement(
                  "div",
                  {
                    style: {
                      fontSize: 12,
                      fontWeight: 700,
                      color: "#14532d",
                      marginTop: 2,
                    },
                  },
                  (selectedRegion ? selectedRegion.name : "NJ") +
                    " Â· cleansight.vultr.app",
                ),
                React.createElement(
                  "div",
                  { style: { fontSize: 10, color: "#94a3b8", marginTop: 1 } },
                  "Instance ID: cs-" +
                    Math.random().toString(36).slice(2, 8).toUpperCase(),
                ),
              ),
          ),
          React.createElement(
            "div",
            {
              style: {
                display: "grid",
                gridTemplateColumns: "repeat(5,1fr)",
                gap: 14,
                marginBottom: 20,
              },
            },
            [
              {
                val: metrics.gpu,
                max: 100,
                color: "#7c3aed",
                label: "CPU Util",
                unit: "%",
              },
              {
                val: metrics.cpu,
                max: 100,
                color: "#007bff",
                label: "CPU Load",
                unit: "%",
              },
              {
                val: metrics.mem,
                max: 100,
                color: "#0369a1",
                label: "Mem Used",
                unit: "%",
              },
              {
                val: metrics.lat,
                max: 300,
                color: "#22c55e",
                label: "Latency",
                unit: "ms",
              },
              {
                val: metrics.tput,
                max: 10,
                color: "#f59e0b",
                label: "Throughput",
                unit: "GB/s",
              },
            ].map(function (m, i) {
              return React.createElement(
                "div",
                {
                  key: i,
                  className: "card",
                  style: {
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    padding: "14px 10px",
                  },
                },
                React.createElement(Gauge, {
                  val: m.val,
                  max: m.max,
                  color: m.color,
                  label: m.label,
                  unit: m.unit,
                  size: 90,
                }),
                React.createElement(
                  "div",
                  {
                    style: {
                      fontSize: 10,
                      color: "#94a3b8",
                      fontFamily: "'DM Mono',monospace",
                      marginTop: 4,
                      textAlign: "center",
                    },
                  },
                  i === 0
                    ? "2 vCPU"
                    : i === 1
                      ? "4 GB RAM"
                      : i === 2
                        ? "80 GB SSD"
                        : i === 3
                          ? "EWR-1 region"
                          : "/analyze endpoint",
                ),
              );
            }),
          ),
          React.createElement(
            "div",
            {
              style: {
                display: "grid",
                gridTemplateColumns: "1fr 1fr 1fr",
                gap: 16,
                marginBottom: 16,
              },
            },
            React.createElement(
              "div",
              { className: "card" },
              React.createElement(
                "div",
                { className: "label", style: { marginBottom: 12 } },
                "Select Deployment Region",
              ),
              React.createElement(
                "div",
                {
                  style: {
                    display: "grid",
                    gridTemplateColumns: "1fr 1fr",
                    gap: 8,
                  },
                },
                VULTR_REGIONS.map(function (reg) {
                  var isSel = selectedRegion && selectedRegion.id === reg.id;
                  return React.createElement(
                    "button",
                    {
                      key: reg.id,
                      className: "region-btn" + (isSel ? " sel" : ""),
                      onClick: function () {
                        setSelectedRegion(reg);
                      },
                    },
                    React.createElement(
                      "div",
                      { style: { fontSize: 16, marginBottom: 2 } },
                      reg.flag,
                    ),
                    React.createElement(
                      "div",
                      { style: { fontWeight: 700, fontSize: 11 } },
                      reg.name,
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 9,
                          color:
                            reg.status === "online" ? "#22c55e" : "#f59e0b",
                          marginTop: 1,
                        },
                      },
                      reg.latency +
                        "ms Â· " +
                        (reg.status === "online" ? "â— Online" : "âš  Degraded"),
                    ),
                  );
                }),
              ),
            ),
            React.createElement(
              "div",
              { className: "card" },
              React.createElement(
                "div",
                { className: "label", style: { marginBottom: 12 } },
                "Instance Plan",
              ),
              React.createElement(
                "div",
                { style: { display: "flex", flexDirection: "column", gap: 8 } },
                VULTR_PLANS.map(function (plan) {
                  var isSel = selectedPlan && selectedPlan.id === plan.id;
                  return React.createElement(
                    "button",
                    {
                      key: plan.id,
                      onClick: function () {
                        setSelectedPlan(plan);
                      },
                      style: {
                        border: "1px solid " + (isSel ? plan.color : "#e2e8f0"),
                        borderRadius: 9,
                        padding: "10px 12px",
                        cursor: "pointer",
                        background: isSel ? "#fafafa" : "#fff",
                        textAlign: "left",
                        transition: "all .15s",
                      },
                    },
                    React.createElement(
                      "div",
                      {
                        style: {
                          display: "flex",
                          justifyContent: "space-between",
                          alignItems: "center",
                          marginBottom: 3,
                        },
                      },
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 12,
                            fontWeight: 700,
                            color: isSel ? plan.color : "#334155",
                          },
                        },
                        plan.name,
                      ),
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 10,
                            fontFamily: "'DM Mono',monospace",
                            background: isSel ? plan.color : "#f1f5f9",
                            color: isSel ? "#fff" : "#64748b",
                            borderRadius: 4,
                            padding: "1px 6px",
                            fontWeight: 700,
                          },
                        },
                        plan.badge,
                      ),
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 10,
                          color: "#94a3b8",
                          fontFamily: "'DM Mono',monospace",
                          marginBottom: 2,
                        },
                      },
                      plan.specs,
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 11,
                          fontWeight: 700,
                          color: plan.color,
                          fontFamily: "'DM Mono',monospace",
                        },
                      },
                      plan.price,
                    ),
                  );
                }),
              ),
            ),
            React.createElement(
              "div",
              {
                className: "card",
                style: {
                  display: "flex",
                  flexDirection: "column",
                  justifyContent: "space-between",
                },
              },
              React.createElement(
                "div",
                null,
                React.createElement(
                  "div",
                  { className: "label", style: { marginBottom: 12 } },
                  "One-Click Deploy",
                ),
                React.createElement(
                  "div",
                  {
                    style: {
                      background: "#f8fafc",
                      border: "1px solid #e2e8f0",
                      borderRadius: 8,
                      padding: "12px",
                      fontFamily: "'DM Mono',monospace",
                      fontSize: 11,
                      color: "#475569",
                      lineHeight: 1.7,
                      marginBottom: 12,
                    },
                  },
                  React.createElement(
                    "div",
                    {
                      style: { color: "#94a3b8", fontSize: 9, marginBottom: 6 },
                    },
                    "# Deploy config",
                  ),
                  React.createElement("div", null, "service: cleansight-api"),
                  React.createElement(
                    "div",
                    null,
                    "region: " + (selectedRegion ? selectedRegion.id : "ewr"),
                  ),
                  React.createElement(
                    "div",
                    null,
                    "plan:   " +
                      (selectedPlan ? selectedPlan.id : "vc2-2c-4gb"),
                  ),
                  React.createElement("div", null, "image:  cleansight:latest"),
                  React.createElement("div", null, "env:    SPHINX_KEY=***"),
                  React.createElement("div", null, "        VECTORAI_URL=***"),
                ),
              ),
              React.createElement(
                "button",
                {
                  className: "vultr-btn",
                  style: { width: "100%", opacity: deploying ? 0.7 : 1 },
                  onClick: onDeploy,
                  disabled: deploying,
                },
                deploying
                  ? "âš™  Deployingâ€¦"
                  : deployed
                    ? "âœ“  Redeploy to Vultr"
                    : "âš¡  Deploy to Vultr",
              ),
            ),
          ),
          React.createElement(
            "div",
            {
              style: {
                display: "grid",
                gridTemplateColumns: "1fr 1fr",
                gap: 16,
              },
            },
            React.createElement(
              "div",
              { className: "card" },
              React.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    marginBottom: 10,
                  },
                },
                React.createElement(
                  "div",
                  { className: "label" },
                  "Deployment Log",
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      fontFamily: "'DM Mono',monospace",
                      background: deployLog.length > 0 ? "#f0fdf4" : "#f8fafc",
                      color: deployLog.length > 0 ? "#166534" : "#94a3b8",
                      border:
                        "1px solid " +
                        (deployLog.length > 0 ? "#bbf7d0" : "#e2e8f0"),
                      borderRadius: 4,
                      padding: "2px 7px",
                    },
                  },
                  deployLog.length > 0 ? "LIVE" : "IDLE",
                ),
              ),
              React.createElement(
                "div",
                {
                  style: {
                    background: "#0f172a",
                    borderRadius: 8,
                    padding: "12px 14px",
                    fontFamily: "'DM Mono',monospace",
                    fontSize: 11,
                    lineHeight: 2,
                    color: "#94a3b8",
                    minHeight: 160,
                    maxHeight: 220,
                    overflowY: "auto",
                  },
                },
                deployLog.length === 0
                  ? React.createElement(
                      "span",
                      { style: { color: "#475569" } },
                      "$ vultr deploy cleansight --one-click",
                    )
                  : deployLog.map(function (line, i) {
                      return React.createElement(
                        "div",
                        {
                          key: i,
                          style: {
                            color: line.ok
                              ? "#4ade80"
                              : line.warn
                                ? "#fbbf24"
                                : "#94a3b8",
                          },
                        },
                        line.text,
                      );
                    }),
              ),
            ),
            React.createElement(
              "div",
              { className: "card" },
              React.createElement(
                "div",
                { className: "label", style: { marginBottom: 12 } },
                "Architecture on Vultr",
              ),
              [
                {
                  icon: "ðŸ“·",
                  label: "Camera Feed",
                  detail: "Edge ingestion Â· CAM_02 â†’ object storage",
                  color: "#f1f5f9",
                  tc: "#475569",
                },
                {
                  icon: "âš¡",
                  label: "Vultr Cloud CPU",
                  detail: "2vCPU Â· Sphinx AI inference Â· vector embedding",
                  color: "#eff6ff",
                  tc: "#1d4ed8",
                },
                {
                  icon: "ðŸ—„ï¸",
                  label: "Actian VectorAI DB",
                  detail: "Containerized on Vultr Â· similarity search",
                  color: "#f0fdf4",
                  tc: "#166534",
                },
                {
                  icon: "ðŸ“Š",
                  label: "CleanSight Dashboard",
                  detail: "Static frontend Â· Vultr CDN global edge",
                  color: "#fff7ed",
                  tc: "#c2410c",
                },
                {
                  icon: "ðŸ””",
                  label: "Alert Engine",
                  detail: "Vultr Functions Â· real-time risk notifications",
                  color: "#fdf4ff",
                  tc: "#7e22ce",
                },
              ].map(function (row, i) {
                return React.createElement(
                  "div",
                  {
                    key: i,
                    style: {
                      display: "flex",
                      alignItems: "center",
                      gap: 10,
                      padding: "8px 0",
                      borderBottom: i < 4 ? "1px solid #f8fafc" : "none",
                    },
                  },
                  React.createElement(
                    "div",
                    {
                      style: {
                        width: 32,
                        height: 32,
                        background: row.color,
                        borderRadius: 7,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        fontSize: 15,
                        flexShrink: 0,
                      },
                    },
                    row.icon,
                  ),
                  React.createElement(
                    "div",
                    null,
                    React.createElement(
                      "div",
                      {
                        style: { fontSize: 12, fontWeight: 700, color: row.tc },
                      },
                      row.label,
                    ),
                    React.createElement(
                      "div",
                      { style: { fontSize: 11, color: "#94a3b8" } },
                      row.detail,
                    ),
                  ),
                );
              }),
            ),
          ),
        );
      }

      // â”€â”€â”€ MAIN APP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function App() {
        var s0 = TEST_SESSIONS[2];
        var sessionState = useState(s0);
        var analysisState = useState(function () {
          return analyzeSession(s0);
        });
        var tabState = useState("heatmap");
        var hoverState = useState(null);
        var stepState = useState(-1);
        var runState = useState(false);
        var stepsArrState = useState([]);
        var jsonErrState = useState(null);
        var fileNameState = useState(null);
        var viewState = useState("dashboard");
        var regionState = useState(VULTR_REGIONS[0]);
        var planState = useState(VULTR_PLANS[0]);
        var deployingState = useState(false);
        var deployedState = useState(false);
        var deployLogState = useState([]);
        var metricsState = useState({
          gpu: 78,
          cpu: 42,
          mem: 61,
          lat: 4,
          tput: 7,
        });
        var vectorMatchesState = useState(VECTOR_MATCHES);
        var sphinxTextState = useState("");
        var allSessionsState = useState(TEST_SESSIONS);
        var loadingState = useState(true);

        var session = sessionState[0],
          setSession = sessionState[1];
        var analysis = analysisState[0],
          setAnalysis = analysisState[1];
        var activeTab = tabState[0],
          setActiveTab = tabState[1];
        var hoveredCell = hoverState[0],
          setHoveredCell = hoverState[1];
        var sphinxStep = stepState[0],
          setSphinxStep = stepState[1];
        var sphinxRunning = runState[0],
          setSphinxRunning = runState[1];
        var sphinxSteps = stepsArrState[0],
          setSphinxSteps = stepsArrState[1];
        var jsonError = jsonErrState[0],
          setJsonError = jsonErrState[1];
        var fileName = fileNameState[0],
          setFileName = fileNameState[1];
        var view = viewState[0],
          setView = viewState[1];
        var selectedRegion = regionState[0],
          setSelectedRegion = regionState[1];
        var selectedPlan = planState[0],
          setSelectedPlan = planState[1];
        var deploying = deployingState[0],
          setDeploying = deployingState[1];
        var deployed = deployedState[0],
          setDeployed = deployedState[1];
        var deployLog = deployLogState[0],
          setDeployLog = deployLogState[1];
        var metrics = metricsState[0],
          setMetrics = metricsState[1];
        var vectorMatches = vectorMatchesState[0],
          setVectorMatches = vectorMatchesState[1];
        var sphinxText = sphinxTextState[0],
          setSphinxText = sphinxTextState[1];
        var allSessions = allSessionsState[0],
          setAllSessions = allSessionsState[1];
        var loading = loadingState[0],
          setLoading = loadingState[1];

        var fileRef = useRef(null);

        // Auto-load all real sessions from FastAPI on mount
        useEffect(function () {
          fetch(FASTAPI_URL + "/sessions/all")
            .then(function (r) {
              return r.json();
            })
            .then(function (data) {
              if (data && data.length > 0) {
                // pick most recent by end_time (fallback to start_time)
                var latest = data.slice().sort(function (a, b) {
                  var ta = new Date(a.end_time || a.start_time || 0).getTime();
                  var tb = new Date(b.end_time || b.start_time || 0).getTime();
                  return tb - ta;
                })[0];

                setAllSessions(data);
                setSession(latest);

                var a = analyzeSession(latest);
                setAnalysis(a);
                setFileName(latest._label || latest.session_id || "Session");
                startSphinxStream(latest, a);
              } else {
                // no real sessions yet, use test data
                startSphinxStream(s0, analyzeSession(s0));
              }
              setLoading(false);
            })
            .catch(function () {
              // FastAPI not reachable, fall back to test data
              startSphinxStream(s0, analyzeSession(s0));
              setLoading(false);
            });
        }, []);

        useEffect(function () {
          var tick = setInterval(function () {
            setMetrics(function (m) {
              return {
                gpu: Math.min(
                  99,
                  Math.max(40, (m.gpu + (Math.random() * 10 - 5)) | 0),
                ),
                cpu: Math.min(
                  99,
                  Math.max(20, (m.cpu + (Math.random() * 8 - 4)) | 0),
                ),
                mem: Math.min(
                  99,
                  Math.max(30, (m.mem + (Math.random() * 4 - 2)) | 0),
                ),
                lat: Math.min(
                  299,
                  Math.max(2, (m.lat + (Math.random() * 4 - 2)) | 0),
                ),
                tput: Math.min(
                  9,
                  Math.max(
                    1,
                    ((m.tput + (Math.random() * 0.6 - 0.3)) * 10) | 0,
                  ) / 10,
                ),
              };
            });
          }, 1800);
          return function () {
            clearInterval(tick);
          };
        }, []);

        function startSphinx(s, a) {
          setSphinxStep(-1);
          setSphinxRunning(true);
          var steps = buildSphinxSteps(s, a);
          setSphinxSteps(steps);
          var i = 0;
          var tick = setInterval(function () {
            setSphinxStep(i);
            i++;
            if (i >= steps.length) {
              clearInterval(tick);
              setSphinxRunning(false);
            }
          }, 560);
        }

        async function startSphinxStream(s, a) {
          setSphinxStep(-1);
          setSphinxRunning(true);
          setSphinxSteps([]);
          setSphinxText("");
          try {
            var res = await fetch(BACKEND_URL + "/sphinx/stream", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(s),
            });
            if (!res.ok || !res.body) throw new Error("HTTP " + res.status);
            var reader = res.body.getReader(),
              decoder = new TextDecoder(),
              buffer = "";
            while (true) {
              var read = await reader.read();
              if (read.done) break;
              buffer += decoder.decode(read.value, { stream: true });
              var lines = buffer.split("\n");
              buffer = lines.pop();
              for (var li = 0; li < lines.length; li++) {
                var trimmed = lines[li].trim();
                if (!trimmed || !trimmed.startsWith("data: ")) continue;
                var payload = trimmed.slice(6);
                if (payload === "[DONE]") {
                  setSphinxRunning(false);
                  return;
                }
                try {
                  var chunk = JSON.parse(payload);
                  if (chunk.token) {
                    var t = chunk.token;
                    if (
                      t.indexOf("Jupyter server") >= 0 ||
                      t.indexOf("Jupyter ready") >= 0 ||
                      t.indexOf("Starting Jupyter") >= 0
                    )
                      continue;
                    setSphinxText(function (prev) {
                      return prev + t;
                    });
                  } else if (chunk.error) {
                    console.warn(
                      "Sphinx error, falling back to mock:",
                      chunk.error,
                    );
                    var steps = buildSphinxSteps(s, a);
                    setSphinxSteps(steps);
                    setSphinxText("");
                    var i = 0;
                    var tick = setInterval(function () {
                      setSphinxStep(i);
                      i++;
                      if (i >= steps.length) {
                        clearInterval(tick);
                        setSphinxRunning(false);
                      }
                    }, 560);
                    return;
                  }
                } catch (e) {}
              }
            }
          } catch (err) {
            console.warn("Sphinx stream failed, falling back to mock:", err);
            var steps = buildSphinxSteps(s, a);
            setSphinxSteps(steps);
            var i = 0;
            var tick = setInterval(function () {
              setSphinxStep(i);
              i++;
              if (i >= steps.length) {
                clearInterval(tick);
                setSphinxRunning(false);
              }
            }, 560);
            return;
          }
          setSphinxRunning(false);
        }

        async function loadSession(data, name) {
          setJsonError(null);
          try {
            var req = [
              "session_id",
              "surface_id",
              "room_id",
              "grid_h",
              "grid_w",
              "coverage_count_grid",
              "high_touch_mask",
            ];
            for (var fi = 0; fi < req.length; fi++)
              if (!(req[fi] in data))
                throw new Error('Missing field: "' + req[fi] + '"');
            if (data.coverage_count_grid.length !== data.grid_h)
              throw new Error("coverage_count_grid rows !== grid_h");
            var a = analyzeSession(data);
            setSession(data);
            setAnalysis(a);
            setFileName(name);
            setActiveTab("heatmap");
            setHoveredCell(null);
            setView("dashboard");
            try {
              var res = await fetch(BACKEND_URL + "/analyze", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
              });
              if (res.ok) {
                var json = await res.json();
                if (json.similar && json.similar.length > 0)
                  setVectorMatches(json.similar);
              }
            } catch (apiErr) {
              console.warn(
                "Backend /analyze failed (using local analysis):",
                apiErr,
              );
            }
            startSphinxStream(data, a);
          } catch (e) {
            setJsonError(e.message);
          }
        }

        useEffect(function () {
          startSphinxStream(s0, analyzeSession(s0));
        }, []);

        function handleFile(file) {
          var reader = new FileReader();
          reader.onload = function (e) {
            try {
              loadSession(JSON.parse(e.target.result), file.name);
            } catch (err) {
              setJsonError("Invalid JSON â€” could not parse file.");
            }
          };
          reader.readAsText(file);
        }

        async function handleDeploy() {
          setDeploying(true);
          setDeployLog([]);
          setDeployed(false);
          var region = selectedRegion || { name: "New Jersey", id: "ewr" };
          var plan = selectedPlan || { name: "Cloud CPU Â· 2vCPU" };
          function addLine(text, ok) {
            setDeployLog(function (prev) {
              return prev.concat([{ text: text, ok: !!ok }]);
            });
          }
          addLine("$ curl -X GET " + BACKEND_URL + "/health", false);
          try {
            var healthRes = await fetch(BACKEND_URL + "/health", {
              signal: AbortSignal.timeout(8000),
            });
            var health = await healthRes.json();
            addLine("âœ“ Connected to CleanSight backend on Vultr", true);
            addLine("âœ“ Region: " + region.name + " (" + region.id + ")", true);
            addLine("âœ“ Plan: " + plan.name, true);
            addLine(
              "âœ“ Service: " + health.service + " â€” status: " + health.status,
              true,
            );
            addLine("âœ“ Actian VectorAI DB: port 50051 (gRPC) â€” active", true);
            addLine("âœ“ Sphinx AI: streaming endpoint live", true);
            addLine("âœ“ Gunicorn workers: 4 Ã— Python 3.12", true);
            addLine("ðŸŽ‰ CleanSight LIVE at " + BACKEND_URL, true);
            setDeployed(true);
          } catch (err) {
            addLine(
              "âœ— Could not reach " + BACKEND_URL + " â€” is the server running?",
              false,
            );
            addLine("  " + err.message, false);
            addLine("  Run: python app.py  OR  docker-compose up", false);
          }
          setDeploying(false);
        }

        var riskBarData = RISK_ORDER.map(function (k) {
          return {
            name: RISK[k].label,
            count: analysis.counts[k],
            fill: RISK[k].bar,
          };
        });
        var rowBarData = analysis.coverageRows.map(function (r) {
          return { name: r.row, count: r.avg, fill: "#0f172a" };
        });
        var overviewBar = allSessions.map(function (s) {
          var a = analyzeSession(s);
          return {
            name: s.room_id,
            count: parseFloat(
              (
                ((a.counts.critical * 4 +
                  a.counts.high * 3 +
                  a.counts.medium * 2 +
                  a.counts.low) /
                  a.totalCells) *
                25
              ).toFixed(1),
            ),
            fill: "#f43f5e",
          };
        });
        var overviewLine = allSessions.map(function (s) {
          return {
            value: analyzeSession(s).covPct,
            label: s.room_id,
            v: analyzeSession(s).covPct,
            t: s.room_id,
          };
        });

        function navBtn(label, id, icon) {
          var active = view === id,
            isVultr = id === "vultr";
          return React.createElement(
            "button",
            {
              className: "nav-btn",
              onClick: function () {
                setView(id);
              },
              style: {
                background: active
                  ? isVultr
                    ? "#007bff"
                    : "#0f172a"
                  : "transparent",
                color: active ? "#fff" : "#475569",
                borderColor: active
                  ? isVultr
                    ? "#007bff"
                    : "#0f172a"
                  : "#e2e8f0",
              },
            },
            icon + " " + label,
          );
        }

        return React.createElement(
          "div",
          {
            style: {
              fontFamily: "'Instrument Sans','Helvetica Neue',sans-serif",
              background: "#f8fafc",
              minHeight: "100vh",
              color: "#0f172a",
            },
          },

          // HEADER
          React.createElement(
            "div",
            {
              style: {
                background: "#fff",
                borderBottom: "1px solid #e2e8f0",
                position: "sticky",
                top: 0,
                zIndex: 100,
              },
            },
            React.createElement(
              "div",
              {
                style: {
                  maxWidth: 1380,
                  margin: "0 auto",
                  padding: "0 28px",
                  height: 54,
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "space-between",
                },
              },
              React.createElement(
                "div",
                { style: { display: "flex", alignItems: "center", gap: 10 } },

                React.createElement(
                  "span",
                  {
                    style: {
                      fontFamily: "'DM Mono',monospace",
                      fontSize: 17,
                      fontWeight: 500,
                      color: "#0ea5e9",
                      marginLeft: -4,
                    },
                  },
                  "Data Analysis",
                ),
              ),
              React.createElement(
                "div",
                { style: { display: "flex", gap: 8, alignItems: "center" } },
                navBtn("All Sessions", "overview", "ðŸ“Š"),
                navBtn("Session View", "dashboard", "ðŸ”¬"),
                navBtn("Vultr Infra", "vultr", "âš¡"),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      color: "#cbd5e1",
                      fontFamily: "'DM Mono',monospace",
                      marginLeft: 4,
                    },
                  },
                  "powered by",
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      fontFamily: "'DM Mono',monospace",
                      background: "#fff7ed",
                      color: "#c2410c",
                      border: "1px solid #fed7aa",
                      borderRadius: 4,
                      padding: "2px 8px",
                    },
                  },
                  "Sphinx AI",
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      fontFamily: "'DM Mono',monospace",
                      background: "#f0fdf4",
                      color: "#166534",
                      border: "1px solid #bbf7d0",
                      borderRadius: 4,
                      padding: "2px 8px",
                    },
                  },
                  "Actian VectorAI",
                ),
                React.createElement(
                  "span",
                  {
                    style: {
                      fontSize: 10,
                      fontFamily: "'DM Mono',monospace",
                      background: "#eff6ff",
                      color: "#1d4ed8",
                      border: "1px solid #bfdbfe",
                      borderRadius: 4,
                      padding: "2px 8px",
                    },
                  },
                  "Vultr",
                ),
              ),
            ),
          ),

          // VULTR VIEW
          view === "vultr" &&
            React.createElement(VultrView, {
              metrics: metrics,
              deployLog: deployLog,
              selectedRegion: selectedRegion,
              setSelectedRegion: setSelectedRegion,
              selectedPlan: selectedPlan,
              setSelectedPlan: setSelectedPlan,
              onDeploy: handleDeploy,
              deploying: deploying,
              deployed: deployed,
            }),

          // OVERVIEW VIEW
          view === "overview" &&
            React.createElement(
              "div",
              {
                style: {
                  maxWidth: 1380,
                  margin: "0 auto",
                  padding: "26px 28px",
                },
              },
              React.createElement(
                "div",
                { style: { marginBottom: 22 } },
                React.createElement(
                  "div",
                  { style: { fontSize: 20, fontWeight: 700 } },
                  "Session Overview",
                ),
                React.createElement(
                  "div",
                  { style: { fontSize: 13, color: "#94a3b8", marginTop: 2 } },
                  "All simulated test sessions Â· Hacklytics 2026",
                ),
              ),
              React.createElement(
                "div",
                {
                  style: {
                    display: "grid",
                    gridTemplateColumns: "repeat(4,1fr)",
                    gap: 14,
                    marginBottom: 20,
                  },
                },
                [
                  {
                    label: "Total Sessions",
                    value: allSessions.length,
                    color: "#0f172a",
                  },
                  {
                    label: "Critical Cells",
                    value: allSessions.reduce(function (s, x) {
                      return s + analyzeSession(x).counts.critical;
                    }, 0),
                    color: "#f43f5e",
                  },
                  {
                    label: "Avg Coverage",
                    value:
                      Math.round(
                        allSessions.reduce(function (s, x) {
                          return s + analyzeSession(x).covPct;
                        }, 0) / Math.max(allSessions.length, 1),
                      ) + "%",
                    color: "#0ea5e9",
                  },
                  {
                    label: "Need Attention",
                    value: allSessions.filter(function (x) {
                      return analyzeSession(x).counts.critical > 0;
                    }).length,
                    color: "#f97316",
                  },
                ].map(function (k) {
                  return React.createElement(
                    "div",
                    {
                      key: k.label,
                      className: "card",
                      style: { padding: "16px 18px" },
                    },
                    React.createElement(
                      "div",
                      { className: "label", style: { marginBottom: 6 } },
                      k.label,
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 36,
                          fontWeight: 800,
                          fontFamily: "'DM Mono',monospace",
                          color: k.color,
                        },
                      },
                      k.value,
                    ),
                  );
                }),
              ),
              React.createElement(
                "div",
                {
                  style: {
                    display: "grid",
                    gridTemplateColumns: "1fr 1fr",
                    gap: 16,
                    marginBottom: 20,
                  },
                },
                React.createElement(
                  "div",
                  { className: "card" },
                  React.createElement(
                    "div",
                    {
                      style: { fontSize: 14, fontWeight: 700, marginBottom: 2 },
                    },
                    "Risk Score by Session",
                  ),
                  React.createElement(
                    "div",
                    {
                      style: {
                        fontSize: 11,
                        color: "#94a3b8",
                        marginBottom: 12,
                      },
                    },
                    "Composite contamination risk (higher = worse)",
                  ),
                  React.createElement(SvgBar, {
                    data: overviewBar,
                    valueKey: "count",
                    colorKey: "fill",
                    labelKey: "name",
                    height: 200,
                    maxVal: 30,
                  }),
                ),
                React.createElement(
                  "div",
                  { className: "card" },
                  React.createElement(
                    "div",
                    {
                      style: { fontSize: 14, fontWeight: 700, marginBottom: 2 },
                    },
                    "Coverage % by Session",
                  ),
                  React.createElement(
                    "div",
                    {
                      style: {
                        fontSize: 11,
                        color: "#94a3b8",
                        marginBottom: 12,
                      },
                    },
                    "% of cells receiving at least one wipe",
                  ),
                  React.createElement(SvgLine, {
                    data: overviewLine,
                    valueKey: "value",
                    labelKey: "label",
                    color: "#0ea5e9",
                    height: 200,
                  }),
                ),
              ),
              React.createElement(
                "div",
                {
                  style: {
                    display: "grid",
                    gridTemplateColumns: "repeat(3,1fr)",
                    gap: 14,
                  },
                },
                allSessions.map(function (s) {
                  var a = analyzeSession(s),
                    worst = RISK_ORDER.find(function (k) {
                      return a.counts[k] > 0;
                    });
                  return React.createElement(
                    "div",
                    {
                      key: s.session_id,
                      className: "card",
                      style: {
                        cursor: "pointer",
                        transition: "box-shadow .15s,transform .15s",
                      },
                      onClick: function () {
                        loadSession(s, s._label + ".json");
                      },
                      onMouseEnter: function (e) {
                        e.currentTarget.style.boxShadow =
                          "0 4px 20px rgba(0,0,0,.09)";
                        e.currentTarget.style.transform = "translateY(-2px)";
                      },
                      onMouseLeave: function (e) {
                        e.currentTarget.style.boxShadow = "";
                        e.currentTarget.style.transform = "";
                      },
                    },
                    React.createElement(
                      "div",
                      {
                        style: {
                          display: "flex",
                          justifyContent: "space-between",
                          alignItems: "flex-start",
                          marginBottom: 10,
                        },
                      },
                      React.createElement(
                        "div",
                        null,
                        React.createElement(
                          "div",
                          { style: { fontSize: 13, fontWeight: 700 } },
                          s._label,
                        ),
                        React.createElement(
                          "div",
                          {
                            style: {
                              fontSize: 11,
                              color: "#94a3b8",
                              fontFamily: "'DM Mono',monospace",
                              marginTop: 1,
                            },
                          },
                          s.session_id,
                        ),
                      ),
                      React.createElement(Badge, { level: worst }),
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          display: "grid",
                          gridTemplateColumns: "1fr 1fr 1fr",
                          gap: 8,
                          marginBottom: 10,
                        },
                      },
                      React.createElement(StatBox, {
                        label: "Coverage",
                        value: a.covPct + "%",
                        color:
                          a.covPct < 60
                            ? "#f43f5e"
                            : a.covPct < 85
                              ? "#f97316"
                              : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "Critical",
                        value: a.counts.critical,
                        color: a.counts.critical > 0 ? "#f43f5e" : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "Focus",
                        value: a.focus.length,
                        color: a.focus.length > 0 ? "#f97316" : "#22c55e",
                      }),
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 11,
                          color: "#0ea5e9",
                          fontWeight: 600,
                        },
                      },
                      "Open session â†’",
                    ),
                  );
                }),
              ),
            ),

          // DASHBOARD VIEW
          view === "dashboard" &&
            React.createElement(
              "div",
              {
                style: {
                  maxWidth: 1380,
                  margin: "0 auto",
                  padding: "22px 28px",
                  display: "grid",
                  gridTemplateColumns: "274px 1fr 282px",
                  gap: 16,
                },
              },

              // LEFT PANEL
              React.createElement(
                "div",
                {
                  style: { display: "flex", flexDirection: "column", gap: 13 },
                },
                React.createElement(
                  "div",
                  { className: "card" },
                  React.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        marginBottom: 11,
                      },
                    },
                    React.createElement(
                      "div",
                      { className: "label" },
                      "Sessions",
                    ),
                    loading &&
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 10,
                            color: "#94a3b8",
                            fontFamily: "'DM Mono',monospace",
                          },
                        },
                        "Loadingâ€¦",
                      ),
                  ),
                  React.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flexDirection: "column",
                        gap: 4,
                      },
                    },
                    allSessions.map(function (s) {
                      var a = analyzeSession(s),
                        w =
                          RISK_ORDER.find(function (k) {
                            return a.counts[k] > 0;
                          }) || "clear",
                        active = session && session.session_id === s.session_id;
                      return React.createElement(
                        "button",
                        {
                          key: s.session_id,
                          className: "session-btn",
                          onClick: function () {
                            loadSession(s, s._label + ".json");
                          },
                          style: {
                            background: active ? "#0f172a" : "#f8fafc",
                            color: active ? "#fff" : "#334155",
                            borderColor: active ? "#0f172a" : "#e2e8f0",
                          },
                        },
                        React.createElement(
                          "span",
                          {
                            style: {
                              display: "flex",
                              justifyContent: "space-between",
                              alignItems: "center",
                            },
                          },
                          React.createElement(
                            "span",
                            null,
                            s._label || s.room_id,
                          ),
                          React.createElement(
                            "span",
                            {
                              style: {
                                background: RISK[w].bg,
                                color: RISK[w].text,
                                border: "1px solid " + RISK[w].border,
                                borderRadius: 3,
                                padding: "1px 5px",
                                fontSize: 9,
                                fontWeight: 700,
                              },
                            },
                            RISK[w].label,
                          ),
                        ),
                        React.createElement(
                          "span",
                          {
                            style: {
                              fontSize: 9,
                              opacity: 0.6,
                              display: "block",
                              marginTop: 1,
                            },
                          },
                          s.session_id + " Â· " + a.covPct + "% cov",
                        ),
                      );
                    }),
                  ),
                ),
                session &&
                  React.createElement(
                    "div",
                    { className: "card animated" },
                    React.createElement(
                      "div",
                      { className: "label", style: { marginBottom: 11 } },
                      "Session Metadata",
                    ),
                    [
                      ["Session ID", session.session_id],
                      [
                        "Surface",
                        session.surface_id + " (" + session.surface_type + ")",
                      ],
                      ["Room", session.room_id],
                      ["Cleaner", session.cleaner_id],
                      ["Duration", analysis.durStr],
                      ["Camera", session.camera_id],
                      ["Grid", session.grid_h + "Ã—" + session.grid_w],
                      [
                        "Start",
                        new Date(session.start_time).toLocaleTimeString(),
                      ],
                    ].map(function (pair) {
                      return React.createElement(
                        "div",
                        {
                          key: pair[0],
                          style: {
                            display: "flex",
                            justifyContent: "space-between",
                            alignItems: "center",
                            padding: "5px 0",
                            borderBottom: "1px solid #f8fafc",
                          },
                        },
                        React.createElement(
                          "span",
                          { style: { fontSize: 11, color: "#94a3b8" } },
                          pair[0],
                        ),
                        React.createElement(
                          "span",
                          {
                            style: {
                              fontSize: 11,
                              fontWeight: 600,
                              fontFamily: "'DM Mono',monospace",
                              color: "#334155",
                              maxWidth: 132,
                              textAlign: "right",
                              wordBreak: "break-all",
                            },
                          },
                          pair[1],
                        ),
                      );
                    }),
                  ),
                analysis &&
                  React.createElement(
                    "div",
                    { className: "card animated" },
                    React.createElement(
                      "div",
                      { className: "label", style: { marginBottom: 11 } },
                      "Coverage Summary",
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          display: "grid",
                          gridTemplateColumns: "1fr 1fr",
                          gap: 8,
                        },
                      },
                      React.createElement(StatBox, {
                        label: "Coverage",
                        value: analysis.covPct + "%",
                        color:
                          analysis.covPct < 60
                            ? "#f43f5e"
                            : analysis.covPct < 85
                              ? "#f97316"
                              : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "Cells wiped",
                        value: analysis.cleaned + "/" + analysis.totalCells,
                      }),
                      React.createElement(StatBox, {
                        label: "HT uncleaned",
                        value: analysis.htUncleaned,
                        color: analysis.htUncleaned > 0 ? "#f43f5e" : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "Focus cells",
                        value: analysis.focus.length,
                        color:
                          analysis.focus.length > 0 ? "#f97316" : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "Critical",
                        value: analysis.counts.critical,
                        color:
                          analysis.counts.critical > 0 ? "#f43f5e" : "#22c55e",
                      }),
                      React.createElement(StatBox, {
                        label: "High risk",
                        value: analysis.counts.high,
                        color: analysis.counts.high > 0 ? "#f97316" : "#22c55e",
                      }),
                    ),
                  ),
              ),

              // CENTER PANEL
              React.createElement(
                "div",
                {
                  style: { display: "flex", flexDirection: "column", gap: 14 },
                },
                React.createElement(
                  "div",
                  { className: "card", style: { padding: "0 20px 22px" } },
                  React.createElement(
                    "div",
                    {
                      style: {
                        borderBottom: "1px solid #f1f5f9",
                        marginBottom: 16,
                        display: "flex",
                      },
                    },
                    [
                      ["heatmap", "ðŸ—º  Heatmap"],
                      ["charts", "ðŸ“Š  Charts"],
                      ["trend", "ðŸ“ˆ  Trend"],
                    ].map(function (item) {
                      return React.createElement(
                        "button",
                        {
                          key: item[0],
                          className:
                            "tab" + (activeTab === item[0] ? " on" : ""),
                          onClick: function () {
                            setActiveTab(item[0]);
                          },
                        },
                        item[1],
                      );
                    }),
                  ),
                  activeTab === "heatmap" &&
                    React.createElement(
                      "div",
                      { className: "animated" },
                      React.createElement(
                        "div",
                        {
                          style: {
                            display: "flex",
                            justifyContent: "space-between",
                            alignItems: "flex-start",
                            marginBottom: 14,
                          },
                        },
                        React.createElement(
                          "div",
                          null,
                          React.createElement(
                            "div",
                            { style: { fontSize: 15, fontWeight: 700 } },
                            "Surface Contamination Map",
                          ),
                          React.createElement(
                            "div",
                            {
                              style: {
                                fontSize: 11,
                                color: "#94a3b8",
                                marginTop: 2,
                              },
                            },
                            session.surface_id +
                              " Â· " +
                              session.room_id +
                              " Â· " +
                              session.grid_h +
                              "Ã—" +
                              session.grid_w +
                              " grid",
                          ),
                        ),
                        hoveredCell
                          ? React.createElement(
                              "div",
                              {
                                style: {
                                  background: "#fff",
                                  border: "1px solid #e2e8f0",
                                  borderRadius: 8,
                                  padding: "10px 14px",
                                  fontFamily: "'DM Mono',monospace",
                                  fontSize: 11,
                                  boxShadow: "0 4px 12px rgba(0,0,0,.08)",
                                  minWidth: 140,
                                },
                              },
                              React.createElement(
                                "div",
                                {
                                  style: {
                                    color: "#64748b",
                                    fontSize: 10,
                                    marginBottom: 4,
                                  },
                                },
                                "CELL (" +
                                  hoveredCell.r +
                                  "," +
                                  hoveredCell.c +
                                  ")",
                              ),
                              React.createElement(
                                "div",
                                null,
                                "Wipe count: ",
                                React.createElement(
                                  "b",
                                  null,
                                  hoveredCell.coverage,
                                ),
                              ),
                              React.createElement(
                                "div",
                                null,
                                "High-touch: ",
                                React.createElement(
                                  "b",
                                  null,
                                  hoveredCell.highTouch ? "Yes" : "No",
                                ),
                              ),
                              React.createElement(
                                "div",
                                { style: { marginTop: 6 } },
                                React.createElement(Badge, {
                                  level: hoveredCell.risk,
                                  size: "md",
                                }),
                              ),
                            )
                          : React.createElement(
                              "div",
                              {
                                style: {
                                  fontSize: 11,
                                  color: "#94a3b8",
                                  fontFamily: "'DM Mono',monospace",
                                  background: "#f8fafc",
                                  padding: "8px 12px",
                                  borderRadius: 7,
                                  border: "1px solid #e2e8f0",
                                },
                              },
                              "Hover a cell for details",
                            ),
                      ),
                      React.createElement(Heatmap, {
                        cells: analysis.cells,
                        grid_h: session.grid_h,
                        grid_w: session.grid_w,
                        hoveredCell: hoveredCell,
                        onHover: setHoveredCell,
                      }),
                    ),
                  activeTab === "charts" &&
                    React.createElement(
                      "div",
                      { className: "animated" },
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 16,
                            fontWeight: 700,
                            marginBottom: 4,
                          },
                        },
                        "Contamination Score by Zone",
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 13,
                            color: "#94a3b8",
                            marginBottom: 16,
                          },
                        },
                        "Higher score = higher contamination risk (0â€“100)",
                      ),
                      React.createElement(SvgBar, {
                        data: ZONE_BAR_DATA,
                        valueKey: "score",
                        labelKey: "name",
                        height: 260,
                      }),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 16,
                            fontWeight: 700,
                            marginTop: 24,
                            marginBottom: 4,
                          },
                        },
                        "Zone Risk Radar",
                      ),
                      React.createElement(SvgRadar, {
                        data: RADAR_DATA,
                        size: 260,
                      }),
                    ),
                  activeTab === "trend" &&
                    React.createElement(
                      "div",
                      { className: "animated" },
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 16,
                            fontWeight: 700,
                            marginBottom: 4,
                          },
                        },
                        "Contamination Trend Over Time",
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 13,
                            color: "#94a3b8",
                            marginBottom: 16,
                          },
                        },
                        "Aggregated risk score across all zones Â· today's session",
                      ),
                      React.createElement(SvgLine, {
                        data: TREND_DATA,
                        valueKey: "v",
                        labelKey: "t",
                        color: "#f43f5e",
                        height: 300,
                        legend: "Risk Score %",
                      }),
                    ),
                ),

                // Focus Areas
                React.createElement(
                  "div",
                  { className: "card animated" },
                  React.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "center",
                        marginBottom: 12,
                      },
                    },
                    React.createElement(
                      "div",
                      null,
                      React.createElement(
                        "div",
                        { style: { fontSize: 14, fontWeight: 700 } },
                        "Areas Still Needing Cleaning",
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 11,
                            color: "#94a3b8",
                            marginTop: 1,
                          },
                        },
                        "Ranked by risk Â· clean in this exact order",
                      ),
                    ),
                    analysis.focus.length === 0 &&
                      React.createElement(
                        "span",
                        {
                          style: {
                            background: "#f0fdf4",
                            color: "#166534",
                            border: "1px solid #bbf7d0",
                            borderRadius: 6,
                            padding: "4px 12px",
                            fontSize: 12,
                            fontWeight: 700,
                          },
                        },
                        "âœ“ All clear",
                      ),
                  ),
                  analysis.focus.length === 0
                    ? React.createElement(
                        "div",
                        {
                          style: {
                            color: "#4ade80",
                            fontWeight: 600,
                            fontSize: 13,
                          },
                        },
                        "Surface meets cleaning protocol â€” no critical or high-risk cells.",
                      )
                    : React.createElement(
                        "div",
                        {
                          style: { display: "flex", flexWrap: "wrap", gap: 8 },
                        },
                        analysis.focus.map(function (cell, i) {
                          var r = RISK[cell.risk];
                          return React.createElement(
                            "div",
                            {
                              key: cell.r + "-" + cell.c,
                              style: {
                                background: r.bg,
                                border: "1px solid " + r.border,
                                borderRadius: 9,
                                padding: "10px 12px",
                                minWidth: 105,
                              },
                            },
                            React.createElement(
                              "div",
                              {
                                style: {
                                  display: "flex",
                                  justifyContent: "space-between",
                                  alignItems: "center",
                                  marginBottom: 4,
                                },
                              },
                              React.createElement(
                                "span",
                                {
                                  style: {
                                    fontSize: 10,
                                    fontFamily: "'DM Mono',monospace",
                                    color: r.text,
                                    fontWeight: 800,
                                  },
                                },
                                "#" + (i + 1),
                              ),
                              React.createElement(Badge, { level: cell.risk }),
                            ),
                            React.createElement(
                              "div",
                              {
                                style: {
                                  fontSize: 15,
                                  fontWeight: 800,
                                  fontFamily: "'DM Mono',monospace",
                                  color: r.text,
                                },
                              },
                              "(" + cell.r + "," + cell.c + ")",
                            ),
                            React.createElement(
                              "div",
                              {
                                style: {
                                  fontSize: 10,
                                  color: r.text,
                                  opacity: 0.8,
                                  marginTop: 2,
                                },
                              },
                              cell.coverage +
                                "Ã— wiped Â· " +
                                (cell.highTouch ? "High-touch" : "Standard"),
                            ),
                          );
                        }),
                      ),
                ),

                // Sphinx AI Panel
                React.createElement(
                  "div",
                  { className: "card" },
                  React.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "center",
                        marginBottom: 10,
                      },
                    },
                    React.createElement(
                      "div",
                      { style: { fontSize: 14, fontWeight: 700 } },
                      "Sphinx AI Reasoning",
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          display: "flex",
                          gap: 6,
                          alignItems: "center",
                        },
                      },
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 10,
                            fontFamily: "'DM Mono',monospace",
                            background: "#eff6ff",
                            color: "#1d4ed8",
                            border: "1px solid #bfdbfe",
                            borderRadius: 4,
                            padding: "2px 8px",
                          },
                        },
                        "âš¡ Vultr Cloud CPU",
                      ),
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 10,
                            fontFamily: "'DM Mono',monospace",
                            background: sphinxRunning ? "#fff7ed" : "#f0fdf4",
                            color: sphinxRunning ? "#c2410c" : "#166534",
                            border:
                              "1px solid " +
                              (sphinxRunning ? "#fed7aa" : "#bbf7d0"),
                            borderRadius: 4,
                            padding: "2px 8px",
                          },
                        },
                        sphinxRunning ? "PROCESSING" : "COMPLETE",
                      ),
                    ),
                  ),
                  sphinxText.length > 0
                    ? React.createElement(
                        "div",
                        {
                          style: {
                            background: "#0f172a",
                            borderRadius: 10,
                            padding: "14px 16px",
                            minHeight: 148,
                            maxHeight: 210,
                            overflowY: "auto",
                          },
                        },
                        React.createElement(
                          "div",
                          {
                            style: {
                              color: "#38bdf8",
                              fontWeight: 700,
                              fontSize: 10,
                              letterSpacing: ".12em",
                              marginBottom: 8,
                              fontFamily: "'DM Mono',monospace",
                            },
                          },
                          "â–¸ SPHINX AI Â· REASONING ENGINE  âš¡ Vultr CPU",
                        ),
                        React.createElement(
                          "pre",
                          {
                            style: {
                              whiteSpace: "pre-wrap",
                              fontSize: 11,
                              fontFamily: "'DM Mono',monospace",
                              color: "#94a3b8",
                              lineHeight: 1.7,
                              margin: 0,
                            },
                          },
                          sphinxText,
                        ),
                        sphinxRunning &&
                          React.createElement(
                            "span",
                            {
                              style: {
                                color: "#38bdf8",
                                animation: "blink .8s step-start infinite",
                              },
                            },
                            "â–ˆ",
                          ),
                      )
                    : React.createElement(SphinxPanel, {
                        steps: sphinxSteps,
                        currentStep: sphinxStep,
                        running: sphinxRunning,
                      }),
                ),
              ),

              // RIGHT PANEL
              React.createElement(
                "div",
                {
                  style: { display: "flex", flexDirection: "column", gap: 13 },
                },
                analysis.counts.critical > 0 &&
                  React.createElement(
                    "div",
                    {
                      className: "animated",
                      style: {
                        background: "#fff1f2",
                        border: "1px solid #fecdd3",
                        borderLeft: "4px solid #f43f5e",
                        borderRadius: 10,
                        padding: "13px 14px",
                      },
                    },
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 13,
                          fontWeight: 700,
                          color: "#9f1239",
                          marginBottom: 5,
                        },
                      },
                      "âš ï¸ Immediate attention required",
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 11,
                          color: "#be123c",
                          fontFamily: "'DM Mono',monospace",
                          lineHeight: 1.8,
                        },
                      },
                      analysis.counts.critical +
                        " high-touch cell" +
                        (analysis.counts.critical > 1 ? "s" : "") +
                        " with zero coverage.",
                      React.createElement("br"),
                      React.createElement("b", null, "Risk: ELEVATED"),
                    ),
                  ),
                analysis.counts.critical === 0 &&
                  analysis.counts.high === 0 &&
                  React.createElement(
                    "div",
                    {
                      className: "animated",
                      style: {
                        background: "#f0fdf4",
                        border: "1px solid #bbf7d0",
                        borderLeft: "4px solid #22c55e",
                        borderRadius: 10,
                        padding: "13px 14px",
                      },
                    },
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 13,
                          fontWeight: 700,
                          color: "#14532d",
                        },
                      },
                      "âœ“ No critical risk detected",
                    ),
                    React.createElement(
                      "div",
                      {
                        style: { fontSize: 11, color: "#166534", marginTop: 3 },
                      },
                      "All high-touch zones meet minimum coverage.",
                    ),
                  ),

                // VectorAI Similar Sessions
                React.createElement(
                  "div",
                  { className: "card animated" },
                  React.createElement(
                    "div",
                    { className: "label", style: { marginBottom: 12 } },
                    "Actian VectorAI â€” Similar Sessions",
                  ),
                  vectorMatches.map(function (m) {
                    return React.createElement(
                      "div",
                      {
                        key: m.id,
                        style: {
                          borderBottom: "1px solid #f8fafc",
                          paddingBottom: 11,
                          marginBottom: 11,
                        },
                      },
                      React.createElement(
                        "div",
                        {
                          style: {
                            display: "flex",
                            justifyContent: "space-between",
                            alignItems: "flex-start",
                          },
                        },
                        React.createElement(
                          "div",
                          {
                            style: {
                              fontSize: 11,
                              fontWeight: 700,
                              fontFamily: "'DM Mono',monospace",
                              color: "#0f172a",
                            },
                          },
                          m.id,
                        ),
                        React.createElement(
                          "div",
                          {
                            style: {
                              textAlign: "right",
                              flexShrink: 0,
                              marginLeft: 8,
                            },
                          },
                          React.createElement(
                            "div",
                            {
                              style: {
                                fontSize: 17,
                                fontWeight: 800,
                                fontFamily: "'DM Mono',monospace",
                              },
                            },
                            Math.round(m.sim * 100) + "%",
                          ),
                          React.createElement(
                            "div",
                            {
                              style: {
                                fontSize: 9,
                                color: "#94a3b8",
                                fontFamily: "'DM Mono',monospace",
                              },
                            },
                            "similarity",
                          ),
                        ),
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 11,
                            color: "#64748b",
                            margin: "2px 0",
                          },
                        },
                        m.room + " Â· " + m.surface,
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            fontSize: 11,
                            color: "#94a3b8",
                            fontStyle: "italic",
                            marginBottom: 5,
                          },
                        },
                        m.note,
                      ),
                      React.createElement(
                        "div",
                        {
                          style: {
                            display: "flex",
                            justifyContent: "space-between",
                            alignItems: "center",
                          },
                        },
                        React.createElement(Badge, { level: m.risk }),
                        React.createElement(
                          "span",
                          {
                            style: {
                              fontSize: 10,
                              color: "#64748b",
                              fontFamily: "'DM Mono',monospace",
                            },
                          },
                          "â†’ " + m.protocol,
                        ),
                      ),
                    );
                  }),
                ),

                // Recommended Protocol
                React.createElement(
                  "div",
                  { className: "card animated" },
                  React.createElement(
                    "div",
                    { className: "label", style: { marginBottom: 11 } },
                    "Recommended Protocol",
                  ),
                  [
                    analysis.counts.critical > 0
                      ? {
                          icon: "ðŸ”´",
                          action: "UV-C sweep",
                          target:
                            analysis.counts.critical +
                            " critical cell" +
                            (analysis.counts.critical > 1 ? "s" : ""),
                          time: "10 min",
                        }
                      : null,
                    analysis.counts.high > 0
                      ? {
                          icon: "ðŸŸ ",
                          action: "Double wipe",
                          target:
                            analysis.counts.high +
                            " high-risk cell" +
                            (analysis.counts.high > 1 ? "s" : ""),
                          time: "8 min",
                        }
                      : null,
                    analysis.counts.medium > 0
                      ? {
                          icon: "ðŸŸ¡",
                          action: "Spot clean",
                          target:
                            analysis.counts.medium +
                            " medium cell" +
                            (analysis.counts.medium > 1 ? "s" : ""),
                          time: "5 min",
                        }
                      : null,
                    {
                      icon: "ðŸŸ¢",
                      action: "Re-scan",
                      target: "Full surface verification",
                      time: "3 min",
                    },
                  ]
                    .filter(function (x) {
                      return x !== null;
                    })
                    .map(function (a, i, arr) {
                      return React.createElement(
                        "div",
                        {
                          key: a.action,
                          style: {
                            display: "flex",
                            gap: 10,
                            padding: "8px 0",
                            borderBottom:
                              i < arr.length - 1 ? "1px solid #f8fafc" : "none",
                          },
                        },
                        React.createElement(
                          "span",
                          { style: { fontSize: 16, flexShrink: 0 } },
                          a.icon,
                        ),
                        React.createElement(
                          "div",
                          { style: { flex: 1 } },
                          React.createElement(
                            "div",
                            { style: { fontSize: 12, fontWeight: 700 } },
                            a.action,
                          ),
                          React.createElement(
                            "div",
                            { style: { fontSize: 11, color: "#94a3b8" } },
                            a.target,
                          ),
                        ),
                        React.createElement(
                          "div",
                          {
                            style: {
                              fontSize: 11,
                              fontFamily: "'DM Mono',monospace",
                              color: "#94a3b8",
                              flexShrink: 0,
                            },
                          },
                          a.time,
                        ),
                      );
                    }),
                ),

                // Vultr quick stats
                React.createElement(
                  "div",
                  {
                    style: {
                      background: "#eff6ff",
                      border: "1px solid #bfdbfe",
                      borderRadius: 10,
                      padding: "13px 14px",
                      cursor: "pointer",
                    },
                    onClick: function () {
                      setView("vultr");
                    },
                  },
                  React.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        alignItems: "center",
                        gap: 8,
                        marginBottom: 10,
                      },
                    },
                    React.createElement(
                      "div",
                      {
                        style: {
                          width: 24,
                          height: 24,
                          background: "#007bff",
                          borderRadius: 6,
                          display: "flex",
                          alignItems: "center",
                          justifyContent: "center",
                          fontSize: 12,
                        },
                      },
                      "âš¡",
                    ),
                    React.createElement(
                      "div",
                      {
                        style: {
                          fontSize: 12,
                          fontWeight: 700,
                          color: "#1e40af",
                        },
                      },
                      "Vultr Infrastructure",
                    ),
                    React.createElement(
                      "span",
                      {
                        style: {
                          fontSize: 9,
                          fontFamily: "'DM Mono',monospace",
                          background: "#007bff",
                          color: "#fff",
                          borderRadius: 4,
                          padding: "1px 6px",
                          marginLeft: "auto",
                        },
                      },
                      "LIVE",
                    ),
                  ),
                  [
                    {
                      label: "CPU Util",
                      val: metrics.gpu + "%",
                      color: "#7c3aed",
                    },
                    {
                      label: "Latency",
                      val: metrics.lat + "ms",
                      color: "#22c55e",
                    },
                    {
                      label: "Throughput",
                      val: metrics.tput + "GB/s",
                      color: "#f59e0b",
                    },
                  ].map(function (m) {
                    return React.createElement(
                      "div",
                      {
                        key: m.label,
                        style: {
                          display: "flex",
                          justifyContent: "space-between",
                          padding: "4px 0",
                          borderBottom: "1px solid #bfdbfe",
                        },
                      },
                      React.createElement(
                        "span",
                        { style: { fontSize: 11, color: "#3b82f6" } },
                        m.label,
                      ),
                      React.createElement(
                        "span",
                        {
                          style: {
                            fontSize: 12,
                            fontWeight: 800,
                            fontFamily: "'DM Mono',monospace",
                            color: m.color,
                          },
                        },
                        m.val,
                      ),
                    );
                  }),
                  React.createElement(
                    "div",
                    {
                      style: {
                        fontSize: 11,
                        color: "#3b82f6",
                        fontWeight: 600,
                        marginTop: 8,
                      },
                    },
                    "View full infrastructure â†’",
                  ),
                ),
              ),
            ),
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(
        React.createElement(App),
      );
    </script>
  </body>
</html>
